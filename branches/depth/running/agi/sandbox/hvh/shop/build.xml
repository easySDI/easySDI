<?xml version="1.0" ?>
<project default="sync" basedir=".">

	<property name="projet.out.dir" value="out" />

	<target name="package" depends="create-structure,compression"
		description="Main target">
	</target>

	<target name="create-structure" description="Creating the working directory structure">
		<delete>
			<fileset dir="${projet.out.dir}" includes="*" />
		</delete>
		<mkdir dir="${projet.out.dir}" />
	</target>

	<target name="compression" description="Compression">
		<jar compress="true" jarfile="${projet.out.dir}/com_easysdi_shop.zip"
			basedir="." excludes=" 
			modules/** ;
			lib/OpenLayers-2.10/build/** ;
			lib/OpenLayers-2.10/news.txt ;
			lib/proj4js/build/** ;
			out/** ; 
			.cache/** ; 
			.svn/** ; 
			.settings/** ; 
			.project ; 
			.prefs ; 
			build.xml ;
			.buildpath " />
	</target>
    
    <target name="compression-prod" description="Compression">
        <jar compress="true" jarfile="${projet.out.dir}/prod/com_easysdi_shop.zip"
            basedir="." excludes=" 
            modules/** ;
            lib/OpenLayers-2.10/build/** ;
            lib/OpenLayers-2.10/lib/OpenLayers/** ;
            lib/OpenLayers-2.10/lib/OpenLayers.js ;
            lib/OpenLayers-2.10/news.txt ;
            lib/openayers2.8/lib/OpenLayers/** ;
            lib/openayers2.8/lib/OpenLayers.js ;
            lib/proj4js/build/** ;
            out/** ; 
            .cache/** ; 
            .svn/** ; 
            .settings/** ; 
            .project ; 
            .prefs ; 
            build.xml ;
            .buildpath " />
    </target>

	<target name="sync" description="Copy from here to apache">
		<copy
			todir="C:\www\agi\administrator\components\com_easysdi_shop">
			<fileset dir=".">
				<include name="**/*.php" />
				<include name="**/*.xsl" />
				<include name="**/*.inc" />
				<include name="**/*.jar" />
				<include name="**/*.xml" />
				<include name="**/*.png" />
				<include name="**/*.ttf" />
				<include name="**/*.txt" />
				<include name="**/*.css" />
				<include name="**/*.js" />
			</fileset>
		</copy>
		<copy
			todir="C:\www\agi\components\com_easysdi_shop">
			<fileset dir="./com_easysdi_shop">
				<include name="**/*.php" />
				<include name="**/*.xsl" />
				<include name="**/*.inc" />
				<include name="**/*.jar" />
				<include name="**/*.xml" />
				<include name="**/*.png" />
				<include name="**/*.ttf" />
				<include name="**/*.txt" />
				<include name="**/*.js" />
			</fileset>
		</copy>
		<copy
			todir="C:\www\agi\components\com_easysdi_shop\views">
			<fileset dir="./com_easysdi_shop/views">
				<include name="**/*.php" />
				<include name="**/*.xml" />
			</fileset>
		</copy>
		<copy		   
		   todir="C:\www\agi\administrator\language\fr-FR">
		     <fileset dir="./language/admin">
		      <include name="**/fr-FR.com_easysdi_shop.ini" />
		     </fileset>
		    </copy>
		<copy		   
		   todir="C:\www\agi\administrator\language\en-GB">
		     <fileset dir="./language/admin">
		      <include name="**/en-GB.com_easysdi_shop.ini" />
		     </fileset>
		    </copy>
	</target>
</project>
