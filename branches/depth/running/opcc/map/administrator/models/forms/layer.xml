<?xml version="1.0" encoding="utf-8"?>
<form>
	<fieldset name="details">
	    <field 	name="alias" 
       			type="text" 
       			size="40" class="inputbox"
	            label="COM_EASYSDI_MAP_FORM_LBL_LAYER_ALIAS"
    	        description="COM_EASYSDI_MAP_FORM_DESC_LAYER_ALIAS" 
                filter="safehtml" /> 

       <field 	name="name" 
       			type="text" 
       			size="40" 
       			class="inputbox"
	            label="COM_EASYSDI_MAP_FORM_LBL_LAYER_NAME"
            	description="COM_EASYSDI_MAP_FORM_DESC_LAYER_NAME" 
                required="true" 
                filter="safehtml" /> 

	   <field 	name="group_id" 
				type="sql" 
				class="inputbox"
				label="COM_EASYSDI_MAP_FORM_LBL_LAYER_GROUP_ID"
				description="COM_EASYSDI_MAP_FORM_DESC_LAYER_GROUP_ID" 
                translate="true" 
                required="true"
                query="SELECT 0 AS id, '- Please select -' AS name UNION SELECT id, name FROM #__sdi_map_group WHERE state=1" key_field="id" value_field="name"
                 />

	   <field 	name="service_id" 
				type="serviceselector" 
				class="inputbox"
				label="COM_EASYSDI_MAP_FORM_LBL_LAYER_PHYSICALSERVICE_ID"
				description="COM_EASYSDI_MAP_FORM_DESC_LAYER_PHYSICALSERVICE_ID" 
                required="true"
                 />

       <field 	name="layername" 
       			type="list" 
       			class="inputbox"
	            label="COM_EASYSDI_MAP_FORM_LBL_LAYER_LAYERNAME"
    	        description="COM_EASYSDI_MAP_FORM_DESC_LAYER_LAYERNAME" 
                required="true" 
                value=''
                filter="safehtml" /> 

       <field 	name="istiled" 
       			type="checkbox" 
       			value="1"
	            label="COM_EASYSDI_MAP_FORM_LBL_LAYER_ISTILED"
    	        description="COM_EASYSDI_MAP_FORM_DESC_LAYER_ISTILED" 
                filter="intval" /> 

		<field 	name="isdefaultvisible" 
       			type="checkbox" 
       			label="COM_EASYSDI_MAP_FORM_LBL_LAYER_ISDEFAULTVISIBLE"
            	description="COM_EASYSDI_MAP_FORM_DESC_LAYER_ISDEFAULTVISIBLE" 
            	value="1"
                filter="intval" />
 
       <field 	name="opacity" 
       			type="text" 
       			size="40" 
       			class="inputbox"
	            label="COM_EASYSDI_MAP_FORM_LBL_LAYER_OPACITY"
    	        description="COM_EASYSDI_MAP_FORM_DESC_LAYER_OPACITY" 
                default="1" 
                filter="safehtml" /> 

       <field 	name="metadatalink" 
       			type="textarea" 
       			class="inputbox"
       			rows="1"
       			cols="15"
                filter="safehtml"
                label="COM_EASYSDI_MAP_FORM_LBL_LAYER_METADATALINK"
            	description="COM_EASYSDI_MAP_FORM_DESC_LAYER_METADATALINK"  /> 

         <field name="state"
                type="list"
                label="JSTATUS"
                description="JFIELD_PUBLISHED_DESC"
                class="inputbox"
                size="1"
                default="1">
                <option value="1">JPUBLISHED</option>
                <option value="0">JUNPUBLISHED</option>
            </field> 

		<field name="id" type="hidden" filter="SAFEHTML" />
		<field name="guid" type="hidden" filter="SAFEHTML" />
		<field name="checked_out" type="hidden" filter="unset" />
        <field name="checked_out_time" type="hidden" filter="unset" />
        <field name="asset_id" type="hidden" filter="SAFEHTML" />
	</fieldset>

	<fieldset name="publishing">
		 <field name="created_by" 
       			type="user" 
				class="readonly"
       			readonly="true"
            	label="COM_EASYSDI_MAP_FORM_LBL_CONTEXT_CREATED_BY"
            	description="COM_EASYSDI_MAP_FORM_DESC_CONTEXT_CREATED_BY"  
            	filter="unset" /> 
            	
		<field 	name="created" 
       			type="calendar" 
       			class="readonly"
       			readonly="true"
                default="0000-00-00 00:00:00" 
            	label="COM_EASYSDI_MAP_FORM_LBL_CONTEXT_CREATED"
            	description="COM_EASYSDI_MAP_FORM_DESC_CONTEXT_CREATED"  
            	filter="safehtml" /> 

       <field 	name="modified_by" 
       			type="user" 
				class="readonly"
       			readonly="true"
       			label="COM_EASYSDI_MAP_FORM_LBL_CONTEXT_MODIFIED_BY"
    	        description="COM_EASYSDI_MAP_FORM_DESC_CONTEXT_MODIFIED_BY" 
                filter="unset" /> 

       <field 	name="modified" 
       			type="calendar" 
       			class="readonly"
       			readonly="true"
                default="0000-00-00 00:00:00"  
            	label="COM_EASYSDI_MAP_FORM_LBL_CONTEXT_MODIFIED"
            	description="COM_EASYSDI_MAP_FORM_DESC_CONTEXT_MODIFIED"  
            	filter="safehtml" />
	</fieldset>
	
	<fieldset name="rulesdefinition">
		<field 	name="rules" 
				type="rules" 
				label="JFIELD_RULES_LABEL"
				translate_label="true" 
				class="inputbox" 
				filter="rules"
				component="com_easysdi_map" 
				section="layer" 
				validate="rules"
		/>
	</fieldset>
</form>
