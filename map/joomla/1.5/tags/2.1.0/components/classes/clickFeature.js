
OpenLayers.Control.ClickFeature=OpenLayers.Class(OpenLayers.Control,{onClick:function(){},geometryTypes:null,layer:null,callbacks:null,handlers:null,initialize:function(layer,options){OpenLayers.Control.prototype.initialize.apply(this,[options]);this.layer=layer;var callbacks={click:this.clickFeature};this.callbacks=OpenLayers.Util.extend(callbacks,this.callbacks);this.handlers={feature:new OpenLayers.Handler.Feature(this,layer,this.callbacks,{geometryTypes:this.geometryTypes})};},activate:function(){if(!this.active){this.handlers.feature.activate();}
return OpenLayers.Control.prototype.activate.apply(this,arguments);},deactivate:function(){if(this.active){this.handlers.feature.deactivate();}
return OpenLayers.Control.prototype.deactivate.apply(this,arguments);},clickFeature:function(feature){var cont=this.layer.events.triggerEvent("beforefeatureclicked",{feature:feature});if(cont!==false){this.layer.events.triggerEvent("featureclicked",{feature:feature});this.onClick(feature);}},setMap:function(map){this.handlers.feature.setMap(map);if(this.box){this.handlers.box.setMap(map);}
OpenLayers.Control.prototype.setMap.apply(this,arguments);},CLASS_NAME:"OpenLayers.Control.ClickFeature"});